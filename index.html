<html>
<title>Node.js DevOps demo Oracle Cloud and OCCS and Apiary</title>
<body bgcolor="yellow">
    <h1>Welcome to my site!</h1>

    <div id='hello'>
      What's your name ?
      <p>
      <input type="text" name="name" id="name">
      <input type="button" value="OK" onclick="hello()">
  </div>

</body>
</html>

<a href="https://app.wercker.com/project/byKey/adba40f461e1a32690377e65bc1fcd02">
  <img alt="Wercker status" src="https://app.wercker.com/status/adba40f461e1a32690377e65bc1fcd02/s/master">
</a>

<script type="text/javascript">
function hello()
{
    var name = document.getElementById("name").value;
    if(!name)
    {
        name = 'friend';
    }
    var request = new XMLHttpRequest();

    request.open('GET', window.location.origin + '/hello/' + name);
    //request.open('GET', 'https://private-87c39-miksu.apiary-mock.com/hello/' + name);

    request.onreadystatechange = function () {
      if (this.readyState === 4) {
        console.log('Status:', this.status);
        console.log('Headers:', this.getAllResponseHeaders());
        console.log('Body:', this.responseText);
        var res = JSON.parse(this.responseText);
        document.getElementById("hello").innerHTML = "<h2>" + res.response + "</h2>";
      }
    };

    request.send();
}
</script>
